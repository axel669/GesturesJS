var Gestures=function(){"use strict";const t="undefined"!=typeof orientation||-1!==navigator.userAgent.indexOf("Mobile"),e=new Map,n={},i=(t,i)=>{"function"==typeof i&&(i=i()),e.set(t,i),n[t]={}},s=(t,e)=>{var n;const i=new CustomEvent(t,{bubbles:!0,cancelable:!0});for(const t of Object.keys(n=e)){const e=n[t];i[t]=e}return i},o=t=>({clientX:t.clientX,clientY:t.clientY,pageX:t.pageX,pageY:t.pageY,screenX:t.screenX,screenY:t.screenY,identifier:t.identifier,target:t.target,sourceElement:t.sourceElement,id:t.identifier,timestamp:t.timestamp}),a=t=>({clientX:t.clientX,clientY:t.clientY,pageX:t.pageX,pageY:t.pageY,screenX:t.screenX,screenY:t.screenY,identifier:t.identifier,id:t.identifier}),r=(t,e)=>{const n=e.clientX-t.clientX,i=e.clientY-t.clientY;return{angle:(Math.atan2(i,n)*(180/Math.PI)+450)%360,magnitude:Math.sqrt(Math.pow(n,2)+Math.pow(i,2))}},c={},d=(t,e=!1)=>i=>(!0===e&&(n[t][i.identifier]={}),n[t][i.identifier]={...n[t][i.identifier],...c[i.identifier]},{...o(i),vars:n[t][i.identifier]}),u=(t,e,n,i)=>{if(void 0!==t&&t(n,i),void 0!==e)for(const t of n)e(t,i)};if(window.addEventListener("touchstart",t=>{const n=[...t.changedTouches];for(const t of n)t.timestamp=Date.now(),c[t.identifier]={start:t};for(const[i,s]of e)u(s.start,s.startItem,n.map(d(i,!0)),t)},!1),window.addEventListener("touchmove",t=>{const n=[...t.changedTouches];for(const t of n){const e=c[t.identifier];t.timestamp=Date.now(),e.vector=r(e.start,t)}for(const[i,s]of e)u(s.move,s.moveItem,n.map(d(i)),t)}),window.addEventListener("touchend",t=>{const n=[...t.changedTouches];for(const t of n){const e=c[t.identifier];t.timestamp=Date.now(),e.vector=r(e.start,t)}for(const[i,s]of e)u(s.end,s.endItem,n.map(d(i)),t)}),!1===t){console.log("GesturesJS will attach non-mobile listeners");const t=t=>({...o(t),identifier:-10,id:-10,target:e,suorceElement:e});let e=null,n=!1;const i=(n,i)=>{const o=[t(n)];e.dispatchEvent(s(i,{changedTouches:o,touches:o,syntheticEvent:!0}))},a=t=>{let e=t;for(;null!==e&&e!==document.documentElement;){if(void 0!==e.dataset.gjsNoFire)return!0;e=e.parentNode}return!1};window.addEventListener("mousedown",t=>{!0!==a(t.target)&&0===t.button&&(n=!0,e=t.target,i(t,"touchstart"))},!0),window.addEventListener("mousemove",t=>{!0===n&&i(t,"touchmove")},!0),window.addEventListener("mouseup",t=>{0===t.button&&!0===n&&(n=!1,i(t,"touchend"),e=null)},!0)}const m=(t,e)=>{let n=t;for(;null!==n&&n!==document.documentElement;)e(n),n=n.parentNode};return i("active-touch",()=>{const t=new WeakMap;return{startItem:e=>m(e.target,e=>{e.classList.add("gjs-touch-active"),(e=>{var n;const i=null!=(n=t.get(e))?n:0;t.set(e,i+1)})(e)}),endItem:e=>m(e.target,e=>{0===(e=>{const n=t.get(e)-1;return t.set(e,n),n})(e)&&e.classList.remove("gjs-touch-active")})}}),i("tap",()=>{const t=t=>{t.classList.add("gjs-tap-active")},e=t=>{t.classList.remove("gjs-tap-active")};return{startItem:e=>{!1===e.target.classList.contains("gjs-tap-active")&&(e.vars.valid=!0,e.vars.active=!0,m(e.target,t))},moveItem:t=>{!0===t.vars.active&&t.vars.vector.magnitude>20&&(t.vars.valid=!1,m(t.target,e))},endItem:t=>{!0===t.vars.active&&m(t.target,e);const n=t.timestamp-t.vars.start.timestamp;if(t.vars.vector.magnitude>20||n>600)return;const i=s("tap",a(t));(t=>setTimeout(t,0))(()=>{!0===t.target.dispatchEvent(i)&&t.target.focus()})}}}),i("hold",()=>{const t={},e=e=>{clearTimeout(t[e.id]),t[e.id]=null};return{startItem:e=>(e=>{t[e.id]=setTimeout(()=>{t[e.id]=null,e.target.dispatchEvent(s("hold",a(e)))},1500)})(e),moveItem:t=>{t.vars.vector.magnitude>20&&e(t)},endItem:t=>e(t)}}),i}();
